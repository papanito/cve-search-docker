# Docker image for `cve-search`

[![Docker Hub](https://img.shields.io/docker/pulls/papanito/cve-search)](https://hub.docker.com/repository/docker/papanito/cve-search) [![GitHub issues](https://img.shields.io/github/issues/papanito/cve-search-docker)](https://github.com/papanito/cve-search-docker/issues) [![GitHub pull requests](https://img.shields.io/github/issues-pr/papanito/cve-search-docker)](https://github.com/papanito/cve-search-docker/pulls)

<!-- ![Github Actions](https://img.shields.io/github/workflow/status/papanito/cve-search-docker/build)](https://github.com/papanito/cve-search-docker/actions)  -->

- This is a docker container for the [CVE-Search tool](https://github.com/cve-search/cve-search)
- Port `27017` is exposed by default.

## Usage

- You can pull the image using ```docker pull papanito/cve-search```
- Run
  - The database will be downloaded when the container is first launched, this can take some time.
  - You can use the provided ```./scripts/run.sh``` file to run the image in the background.
    - You will be attached to the containers output for the database setup process.
    - At any time or once you see ```mongod``` restart you can ```CTRL-C``` out of the attachment.
    - You can then run ```docker exec -it [CONTAINER] bash``` to interact with the container.
  - Use ```./docker-entrypoint.sh``` to update the database.
  - Use ```./bin/search.py``` to search it.

## Build

Docker image is build regurarly and tagged as follows

- `latest` always the latest build on `main`-branch
- `unstable` for latest build on any non-`main`-branch (concurrent builds, latest win)

For now I will re-create the image on a daily basis so that we catch any updates of base images and/or `apt-update`.

## References

- https://github.com/cve-search/cve-search/issues/205
- https://github.com/cve-search/cve-search
- https://hub.docker.com/_/mongo/
- https://github.com/leojcollard/cve-search-docker (base for my work)